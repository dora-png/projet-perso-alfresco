function main(){var b={};var p=page.url.templateArgs.toolid||"";var s="mail";if(s!=null){var j=sitedata.getComponent("page","ctool",s);var r=sitedata.findWebScripts(s);for(var n=0;n<r.length;n++){var d=r[n],l=d.id,u=l.substring(l.lastIndexOf("/")+1,l.lastIndexOf(".")),e=(new String(d.getURIs()[0])).toString();if(p.length==0){p=u}var v="tool."+u+".label",c="tool."+u+".description";var f="",a=null,o="/share/page/hdp/ws/",w=null,m=d.scriptPath.split("/");if(m.length>4&&m[3]=="mail"){f=m[4];a="tool.group."+f;w=o+u}var h=getFontIcon(u);var t={id:u,url:e,label:v,group:f,fontIcon:h,groupLabel:a,description:c,selected:(p==u)};if(!b[f]){b[f]=[]}b[f].push(t);if(t.selected){if(j==null){j=sitedata.newComponent("page","ctool",s)}if(j.properties.url!=e){j.properties.url=e;j.save(false)}}}}var k=[];if(b[""]){k.push(b[""])}delete b[""];foreach(var q in b){k.push(q)}context.setValue("mail-tools",k)}function getFontIcon(a){if(a=="inbox"){return"fas fa-inbox"}if(a=="outbox"){return"fas fa-paper-plane"}if(a=="saved"){return"fas fa-sticky-note"}if(a=="inbound"){return""}if(a=="outbound"){return""}if(a=="internal"){return""}if(a=="processed-mail"){return"fas fa-envelope-open"}return"fas fa-envelope"}main();